{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.metadataBeet = exports.Metadata = void 0;\nvar web3 = __importStar(require(\"@solana/web3.js\"));\nvar beet = __importStar(require(\"@metaplex-foundation/beet\"));\nvar beetSolana = __importStar(require(\"@metaplex-foundation/beet-solana\"));\nvar Key_1 = require(\"../types/Key\");\nvar Data_1 = require(\"../types/Data\");\nvar TokenStandard_1 = require(\"../types/TokenStandard\");\nvar Collection_1 = require(\"../types/Collection\");\nvar Uses_1 = require(\"../types/Uses\");\nvar CollectionDetails_1 = require(\"../types/CollectionDetails\");\nvar customSerializer = __importStar(require(\"../../custom/metadata-deserializer\"));\nvar Metadata = /*#__PURE__*/function () {\n  function Metadata(key, updateAuthority, mint, data, primarySaleHappened, isMutable, editionNonce, tokenStandard, collection, uses, collectionDetails) {\n    _classCallCheck(this, Metadata);\n    this.key = key;\n    this.updateAuthority = updateAuthority;\n    this.mint = mint;\n    this.data = data;\n    this.primarySaleHappened = primarySaleHappened;\n    this.isMutable = isMutable;\n    this.editionNonce = editionNonce;\n    this.tokenStandard = tokenStandard;\n    this.collection = collection;\n    this.uses = uses;\n    this.collectionDetails = collectionDetails;\n  }\n  _createClass(Metadata, [{\n    key: \"serialize\",\n    value: function serialize() {\n      return resolvedSerialize(this);\n    }\n  }, {\n    key: \"pretty\",\n    value: function pretty() {\n      return {\n        key: 'Key.' + Key_1.Key[this.key],\n        updateAuthority: this.updateAuthority.toBase58(),\n        mint: this.mint.toBase58(),\n        data: this.data,\n        primarySaleHappened: this.primarySaleHappened,\n        isMutable: this.isMutable,\n        editionNonce: this.editionNonce,\n        tokenStandard: this.tokenStandard,\n        collection: this.collection,\n        uses: this.uses,\n        collectionDetails: this.collectionDetails\n      };\n    }\n  }], [{\n    key: \"fromArgs\",\n    value: function fromArgs(args) {\n      return new Metadata(args.key, args.updateAuthority, args.mint, args.data, args.primarySaleHappened, args.isMutable, args.editionNonce, args.tokenStandard, args.collection, args.uses, args.collectionDetails);\n    }\n  }, {\n    key: \"fromAccountInfo\",\n    value: function fromAccountInfo(accountInfo) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return Metadata.deserialize(accountInfo.data, offset);\n    }\n  }, {\n    key: \"fromAccountAddress\",\n    value: function () {\n      var _fromAccountAddress = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(connection, address, commitmentOrConfig) {\n        var accountInfo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return connection.getAccountInfo(address, commitmentOrConfig);\n              case 2:\n                accountInfo = _context.sent;\n                if (!(accountInfo == null)) {\n                  _context.next = 5;\n                  break;\n                }\n                throw new Error(\"Unable to find Metadata account at \".concat(address));\n              case 5:\n                return _context.abrupt(\"return\", Metadata.fromAccountInfo(accountInfo, 0)[0]);\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      function fromAccountAddress(_x, _x2, _x3) {\n        return _fromAccountAddress.apply(this, arguments);\n      }\n      return fromAccountAddress;\n    }()\n  }, {\n    key: \"gpaBuilder\",\n    value: function gpaBuilder() {\n      var programId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new web3.PublicKey('metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s');\n      return beetSolana.GpaBuilder.fromStruct(programId, exports.metadataBeet);\n    }\n  }, {\n    key: \"deserialize\",\n    value: function deserialize(buf) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return resolvedDeserialize(buf, offset);\n    }\n  }, {\n    key: \"byteSize\",\n    value: function byteSize(args) {\n      var instance = Metadata.fromArgs(args);\n      return exports.metadataBeet.toFixedFromValue(instance).byteSize;\n    }\n  }, {\n    key: \"getMinimumBalanceForRentExemption\",\n    value: function () {\n      var _getMinimumBalanceForRentExemption = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(args, connection, commitment) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", connection.getMinimumBalanceForRentExemption(Metadata.byteSize(args), commitment));\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      function getMinimumBalanceForRentExemption(_x4, _x5, _x6) {\n        return _getMinimumBalanceForRentExemption.apply(this, arguments);\n      }\n      return getMinimumBalanceForRentExemption;\n    }()\n  }]);\n  return Metadata;\n}();\nexports.Metadata = Metadata;\nexports.metadataBeet = new beet.FixableBeetStruct([['key', Key_1.keyBeet], ['updateAuthority', beetSolana.publicKey], ['mint', beetSolana.publicKey], ['data', Data_1.dataBeet], ['primarySaleHappened', beet.bool], ['isMutable', beet.bool], ['editionNonce', beet.coption(beet.u8)], ['tokenStandard', beet.coption(TokenStandard_1.tokenStandardBeet)], ['collection', beet.coption(Collection_1.collectionBeet)], ['uses', beet.coption(Uses_1.usesBeet)], ['collectionDetails', beet.coption(CollectionDetails_1.collectionDetailsBeet)]], Metadata.fromArgs, 'Metadata');\nvar serializer = customSerializer;\nvar resolvedSerialize = typeof serializer.serialize === 'function' ? serializer.serialize.bind(serializer) : exports.metadataBeet.serialize.bind(exports.metadataBeet);\nvar resolvedDeserialize = typeof serializer.deserialize === 'function' ? serializer.deserialize.bind(serializer) : exports.metadataBeet.deserialize.bind(exports.metadataBeet);","map":{"version":3,"mappings":"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","names":["Metadata","key","updateAuthority","mint","data","primarySaleHappened","isMutable","editionNonce","tokenStandard","collection","uses","collectionDetails","resolvedSerialize","Key_1","toBase58","args","accountInfo","offset","deserialize","connection","address","commitmentOrConfig","getAccountInfo","Error","fromAccountInfo","programId","web3","PublicKey","beetSolana","GpaBuilder","fromStruct","exports","buf","resolvedDeserialize","instance","fromArgs","toFixedFromValue","byteSize","commitment","getMinimumBalanceForRentExemption","beet","FixableBeetStruct","publicKey","Data_1","bool","coption","u8","TokenStandard_1","Collection_1","Uses_1","CollectionDetails_1","serializer","customSerializer","serialize","bind"],"sources":["../../../../src/generated/accounts/Metadata.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}