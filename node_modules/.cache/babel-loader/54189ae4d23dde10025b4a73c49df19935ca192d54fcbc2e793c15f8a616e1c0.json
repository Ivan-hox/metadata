{"ast":null,"code":"\"use strict\";\n\nvar _createClass = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _classCallCheck = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RegistryItem = void 0;\nvar bc_ur_1 = require(\"@ngraveio/bc-ur\");\nvar lib_1 = require(\"./lib\");\nvar RegistryItem = /*#__PURE__*/_createClass(function RegistryItem() {\n  var _this = this;\n  _classCallCheck(this, RegistryItem);\n  this.toCBOR = function () {\n    if (_this.toDataItem() === undefined) {\n      throw new Error(\"#[ur-registry][RegistryItem][fn.toCBOR]: registry \".concat(_this.getRegistryType(), \"'s method toDataItem returns undefined\"));\n    }\n    return (0, lib_1.encodeDataItem)(_this.toDataItem());\n  };\n  this.toUR = function () {\n    return new bc_ur_1.UR(_this.toCBOR(), _this.getRegistryType().getType());\n  };\n  this.toUREncoder = function (maxFragmentLength, firstSeqNum, minFragmentLength) {\n    var ur = _this.toUR();\n    var urEncoder = new bc_ur_1.UREncoder(ur, maxFragmentLength, firstSeqNum, minFragmentLength);\n    return urEncoder;\n  };\n});\nexports.RegistryItem = RegistryItem;","map":{"version":3,"mappings":";;;;;;;;AAAA;AACA;AAAiD,IAG3BA,YAAY,6BAAlC;EAAA;EAAA;EAGS,WAAM,GAAG,YAAK;IACnB,IAAI,KAAI,CAACC,UAAU,EAAE,KAAKC,SAAS,EAAE;MACnC,MAAM,IAAIC,KAAK,6DACwC,KAAI,CAACC,eAAe,EAAE,4CAC5E;;IAEH,OAAO,wBAAc,EAAC,KAAI,CAACH,UAAU,EAAE,CAAC;EAC1C,CAAC;EAEM,SAAI,GAAG,YAAK;IACjB,OAAO,IAAII,UAAE,CAAC,KAAI,CAACC,MAAM,EAAE,EAAE,KAAI,CAACF,eAAe,EAAE,CAACG,OAAO,EAAE,CAAC;EAChE,CAAC;EAEM,gBAAW,GAAG,UACnBC,iBAA0B,EAC1BC,WAAoB,EACpBC,iBAA0B,EACxB;IACF,IAAMC,EAAE,GAAG,KAAI,CAACC,IAAI,EAAE;IACtB,IAAMC,SAAS,GAAG,IAAIR,iBAAS,CAC7BM,EAAE,EACFH,iBAAiB,EACjBC,WAAW,EACXC,iBAAiB,CAClB;IACD,OAAOG,SAAS;EAClB,CAAC;AACH,CAAC;AA9BDC","names":["RegistryItem","toDataItem","undefined","Error","getRegistryType","bc_ur_1","toCBOR","getType","maxFragmentLength","firstSeqNum","minFragmentLength","ur","toUR","urEncoder","exports"],"sources":["/Users/ivan/Metadata/node_modules/@keystonehq/bc-ur-registry/src/RegistryItem.ts"],"sourcesContent":["import { UR, UREncoder } from '@ngraveio/bc-ur';\nimport { encodeDataItem, DataItem } from './lib';\nimport { RegistryType } from './RegistryType';\n\nexport abstract class RegistryItem {\n  abstract getRegistryType: () => RegistryType;\n  abstract toDataItem: () => DataItem;\n  public toCBOR = () => {\n    if (this.toDataItem() === undefined) {\n      throw new Error(\n        `#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`,\n      );\n    }\n    return encodeDataItem(this.toDataItem());\n  };\n\n  public toUR = () => {\n    return new UR(this.toCBOR(), this.getRegistryType().getType());\n  };\n\n  public toUREncoder = (\n    maxFragmentLength?: number,\n    firstSeqNum?: number,\n    minFragmentLength?: number,\n  ) => {\n    const ur = this.toUR();\n    const urEncoder = new UREncoder(\n      ur,\n      maxFragmentLength,\n      firstSeqNum,\n      minFragmentLength,\n    );\n    return urEncoder;\n  };\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}