{"ast":null,"code":"import _objectSpread from \"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\"];\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from './Button.js';\nimport { useWalletModal } from './useWalletModal.js';\nimport { WalletConnectButton } from './WalletConnectButton.js';\nimport { WalletIcon } from './WalletIcon.js';\nimport { WalletModalButton } from './WalletModalButton.js';\nexport var WalletMultiButton = function WalletMultiButton(_ref) {\n  var children = _ref.children,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useWallet = useWallet(),\n    publicKey = _useWallet.publicKey,\n    wallet = _useWallet.wallet,\n    disconnect = _useWallet.disconnect;\n  var _useWalletModal = useWalletModal(),\n    setVisible = _useWalletModal.setVisible;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    copied = _useState2[0],\n    setCopied = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    active = _useState4[0],\n    setActive = _useState4[1];\n  var ref = useRef(null);\n  var base58 = useMemo(function () {\n    return publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58();\n  }, [publicKey]);\n  var content = useMemo(function () {\n    if (children) return children;\n    if (!wallet || !base58) return null;\n    return base58.slice(0, 4) + '..' + base58.slice(-4);\n  }, [children, wallet, base58]);\n  var copyAddress = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!base58) {\n              _context.next = 5;\n              break;\n            }\n            _context.next = 3;\n            return navigator.clipboard.writeText(base58);\n          case 3:\n            setCopied(true);\n            setTimeout(function () {\n              return setCopied(false);\n            }, 400);\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [base58]);\n  var openDropdown = useCallback(function () {\n    setActive(true);\n  }, []);\n  var closeDropdown = useCallback(function () {\n    setActive(false);\n  }, []);\n  var openModal = useCallback(function () {\n    setVisible(true);\n    closeDropdown();\n  }, [setVisible, closeDropdown]);\n  useEffect(function () {\n    var listener = function listener(event) {\n      var node = ref.current;\n      // Do nothing if clicking dropdown or its descendants\n      if (!node || node.contains(event.target)) return;\n      closeDropdown();\n    };\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, closeDropdown]);\n  if (!wallet) return React.createElement(WalletModalButton, _objectSpread({}, props), children);\n  if (!base58) return React.createElement(WalletConnectButton, _objectSpread({}, props), children);\n  return React.createElement(\"div\", {\n    className: \"wallet-adapter-dropdown\"\n  }, React.createElement(Button, _objectSpread({\n    \"aria-expanded\": active,\n    className: \"wallet-adapter-button-trigger\",\n    style: _objectSpread({\n      pointerEvents: active ? 'none' : 'auto'\n    }, props.style),\n    onClick: openDropdown,\n    startIcon: React.createElement(WalletIcon, {\n      wallet: wallet\n    })\n  }, props), content), React.createElement(\"ul\", {\n    \"aria-label\": \"dropdown-list\",\n    className: \"wallet-adapter-dropdown-list \".concat(active && 'wallet-adapter-dropdown-list-active'),\n    ref: ref,\n    role: \"menu\"\n  }, React.createElement(\"li\", {\n    onClick: copyAddress,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, copied ? 'Copied' : 'Copy address'), React.createElement(\"li\", {\n    onClick: openModal,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Change wallet\"), React.createElement(\"li\", {\n    onClick: disconnect,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Disconnect\")));\n};","map":{"version":3,"mappings":"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","names":["useWallet","React","useCallback","useEffect","useMemo","useRef","useState","Button","useWalletModal","WalletConnectButton","WalletIcon","WalletModalButton","WalletMultiButton","children","props","publicKey","wallet","disconnect","setVisible","copied","setCopied","active","setActive","ref","base58","toBase58","content","slice","copyAddress","navigator","clipboard","writeText","setTimeout","openDropdown","closeDropdown","openModal","listener","event","node","current","contains","target","document","addEventListener","removeEventListener","className","style","pointerEvents","onClick","startIcon","role"],"sources":["/Users/ivan/Metadata/node_modules/@solana/wallet-adapter-react-ui/src/WalletMultiButton.tsx"],"sourcesContent":["import { useWallet } from '@solana/wallet-adapter-react';\nimport type { FC } from 'react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport type { ButtonProps } from './Button.js';\nimport { Button } from './Button.js';\nimport { useWalletModal } from './useWalletModal.js';\nimport { WalletConnectButton } from './WalletConnectButton.js';\nimport { WalletIcon } from './WalletIcon.js';\nimport { WalletModalButton } from './WalletModalButton.js';\n\nexport const WalletMultiButton: FC<ButtonProps> = ({ children, ...props }) => {\n    const { publicKey, wallet, disconnect } = useWallet();\n    const { setVisible } = useWalletModal();\n    const [copied, setCopied] = useState(false);\n    const [active, setActive] = useState(false);\n    const ref = useRef<HTMLUListElement>(null);\n\n    const base58 = useMemo(() => publicKey?.toBase58(), [publicKey]);\n    const content = useMemo(() => {\n        if (children) return children;\n        if (!wallet || !base58) return null;\n        return base58.slice(0, 4) + '..' + base58.slice(-4);\n    }, [children, wallet, base58]);\n\n    const copyAddress = useCallback(async () => {\n        if (base58) {\n            await navigator.clipboard.writeText(base58);\n            setCopied(true);\n            setTimeout(() => setCopied(false), 400);\n        }\n    }, [base58]);\n\n    const openDropdown = useCallback(() => {\n        setActive(true);\n    }, []);\n\n    const closeDropdown = useCallback(() => {\n        setActive(false);\n    }, []);\n\n    const openModal = useCallback(() => {\n        setVisible(true);\n        closeDropdown();\n    }, [setVisible, closeDropdown]);\n\n    useEffect(() => {\n        const listener = (event: MouseEvent | TouchEvent) => {\n            const node = ref.current;\n\n            // Do nothing if clicking dropdown or its descendants\n            if (!node || node.contains(event.target as Node)) return;\n\n            closeDropdown();\n        };\n\n        document.addEventListener('mousedown', listener);\n        document.addEventListener('touchstart', listener);\n\n        return () => {\n            document.removeEventListener('mousedown', listener);\n            document.removeEventListener('touchstart', listener);\n        };\n    }, [ref, closeDropdown]);\n\n    if (!wallet) return <WalletModalButton {...props}>{children}</WalletModalButton>;\n    if (!base58) return <WalletConnectButton {...props}>{children}</WalletConnectButton>;\n\n    return (\n        <div className=\"wallet-adapter-dropdown\">\n            <Button\n                aria-expanded={active}\n                className=\"wallet-adapter-button-trigger\"\n                style={{ pointerEvents: active ? 'none' : 'auto', ...props.style }}\n                onClick={openDropdown}\n                startIcon={<WalletIcon wallet={wallet} />}\n                {...props}\n            >\n                {content}\n            </Button>\n            <ul\n                aria-label=\"dropdown-list\"\n                className={`wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`}\n                ref={ref}\n                role=\"menu\"\n            >\n                <li onClick={copyAddress} className=\"wallet-adapter-dropdown-list-item\" role=\"menuitem\">\n                    {copied ? 'Copied' : 'Copy address'}\n                </li>\n                <li onClick={openModal} className=\"wallet-adapter-dropdown-list-item\" role=\"menuitem\">\n                    Change wallet\n                </li>\n                <li onClick={disconnect} className=\"wallet-adapter-dropdown-list-item\" role=\"menuitem\">\n                    Disconnect\n                </li>\n            </ul>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}