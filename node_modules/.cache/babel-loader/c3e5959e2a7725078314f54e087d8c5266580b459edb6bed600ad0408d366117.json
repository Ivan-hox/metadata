{"ast":null,"code":"\"use strict\";\n\nvar _createClass = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _classCallCheck = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _inherits = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/ivan/Metadata/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CryptoPSBT = void 0;\nvar lib_1 = require(\"./lib\");\nvar RegistryItem_1 = require(\"./RegistryItem\");\nvar RegistryType_1 = require(\"./RegistryType\");\nvar CryptoPSBT = /*#__PURE__*/function (_RegistryItem_1$Regis) {\n  _inherits(CryptoPSBT, _RegistryItem_1$Regis);\n  var _super = _createSuper(CryptoPSBT);\n  function CryptoPSBT(psbt) {\n    var _this;\n    _classCallCheck(this, CryptoPSBT);\n    _this = _super.call(this);\n    _this.psbt = psbt;\n    _this.getRegistryType = function () {\n      return RegistryType_1.RegistryTypes.CRYPTO_PSBT;\n    };\n    _this.getPSBT = function () {\n      return _this.psbt;\n    };\n    _this.toDataItem = function () {\n      return new lib_1.DataItem(_this.psbt);\n    };\n    return _this;\n  }\n  return _createClass(CryptoPSBT);\n}(RegistryItem_1.RegistryItem);\nexports.CryptoPSBT = CryptoPSBT;\nCryptoPSBT.fromDataItem = function (dataItem) {\n  var psbt = dataItem.getData();\n  if (!psbt) {\n    throw new Error(\"#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: \".concat(dataItem));\n  }\n  return new CryptoPSBT(psbt);\n};\nCryptoPSBT.fromCBOR = function (_cborPayload) {\n  var dataItem = (0, lib_1.decodeToDataItem)(_cborPayload);\n  return CryptoPSBT.fromDataItem(dataItem);\n};","map":{"version":3,"mappings":";;;;;;;;;;AAAA;AACA;AACA;AAA+C,IAElCA,UAAW;EAAA;EAAA;EAGtB,oBAAoBC,IAAY;IAAA;IAAA;IAC9B;IADkB,UAAI,GAAJA,IAAI;IAFxB,qBAAe,GAAG;MAAA,OAAMC,4BAAa,CAACC,WAAW;IAAA;IAM1C,aAAO,GAAG;MAAA,OAAM,MAAKF,IAAI;IAAA;IAEzB,gBAAU,GAAG,YAAK;MACvB,OAAO,IAAIG,cAAQ,CAAC,MAAKH,IAAI,CAAC;IAChC,CAAC;IAAC;EANF;EAAC;AAAA,EAL6BI,2BAAY;AAA5CC;AAagBN,uBAAY,GAAG,UAACO,QAAkB,EAAI;EAClD,IAAMN,IAAI,GAAGM,QAAQ,CAACC,OAAO,EAAE;EAC/B,IAAI,CAACP,IAAI,EAAE;IACT,MAAM,IAAIQ,KAAK,gGAC2EF,QAAQ,EACjG;;EAEH,OAAO,IAAIP,UAAU,CAACC,IAAI,CAAC;AAC7B,CAAC;AAEaD,mBAAQ,GAAG,UAACU,YAAoB,EAAI;EAChD,IAAMH,QAAQ,GAAG,0BAAgB,EAACG,YAAY,CAAC;EAC/C,OAAOV,UAAU,CAACW,YAAY,CAACJ,QAAQ,CAAC;AAC1C,CAAC","names":["CryptoPSBT","psbt","RegistryType_1","CRYPTO_PSBT","lib_1","RegistryItem_1","exports","dataItem","getData","Error","_cborPayload","fromDataItem"],"sources":["/Users/ivan/Metadata/node_modules/@keystonehq/bc-ur-registry/src/CryptoPSBT.ts"],"sourcesContent":["import { decodeToDataItem, DataItem } from './lib';\nimport { RegistryItem } from './RegistryItem';\nimport { RegistryTypes } from './RegistryType';\n\nexport class CryptoPSBT extends RegistryItem {\n  getRegistryType = () => RegistryTypes.CRYPTO_PSBT;\n\n  constructor(private psbt: Buffer) {\n    super();\n  }\n\n  public getPSBT = () => this.psbt;\n\n  public toDataItem = () => {\n    return new DataItem(this.psbt);\n  };\n\n  public static fromDataItem = (dataItem: DataItem) => {\n    const psbt = dataItem.getData();\n    if (!psbt) {\n      throw new Error(\n        `#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${dataItem}`,\n      );\n    }\n    return new CryptoPSBT(psbt);\n  };\n\n  public static fromCBOR = (_cborPayload: Buffer) => {\n    const dataItem = decodeToDataItem(_cborPayload);\n    return CryptoPSBT.fromDataItem(dataItem);\n  };\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}