{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decimal = exports.WAD = void 0;\nvar bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nvar base_1 = require(\"./base\");\nvar bigint_1 = require(\"./bigint\");\nexports.WAD = new bignumber_js_1.default('1e+18');\nvar decimal = function decimal(property) {\n  var layout = (0, bigint_1.u128)(property);\n  var _ref = (0, base_1.encodeDecode)(layout),\n    encode = _ref.encode,\n    decode = _ref.decode;\n  var decimalLayout = layout;\n  decimalLayout.decode = function (buffer, offset) {\n    var src = decode(buffer, offset).toString();\n    return new bignumber_js_1.default(src).div(exports.WAD);\n  };\n  decimalLayout.encode = function (decimal, buffer, offset) {\n    var src = BigInt(decimal.times(exports.WAD).integerValue().toString());\n    return encode(src, buffer, offset);\n  };\n  return decimalLayout;\n};\nexports.decimal = decimal;","map":{"version":3,"mappings":";;;;;;;;;;;AACA;AACA;AACA;AAEaA,WAAG,GAAG,IAAIC,sBAAS,CAAC,OAAO,CAAC;AAElC,IAAMC,OAAO,GAAG,SAAVA,OAAO,CAAIC,QAAiB,EAAuB;EAC5D,IAAMC,MAAM,GAAG,iBAAI,EAACD,QAAQ,CAAC;EAC7B,WAA2B,uBAAY,EAACC,MAAM,CAAC;IAAvCC,MAAM,QAANA,MAAM;IAAEC,MAAM,QAANA,MAAM;EAEtB,IAAMC,aAAa,GAAGH,MAA8C;EAEpEG,aAAa,CAACD,MAAM,GAAG,UAACE,MAAc,EAAEC,MAAc,EAAI;IACtD,IAAMC,GAAG,GAAGJ,MAAM,CAACE,MAAM,EAAEC,MAAM,CAAC,CAACE,QAAQ,EAAE;IAC7C,OAAO,IAAIV,sBAAS,CAACS,GAAG,CAAC,CAACE,GAAG,CAACZ,WAAG,CAAC;EACtC,CAAC;EAEDO,aAAa,CAACF,MAAM,GAAG,UAACH,OAAkB,EAAEM,MAAc,EAAEC,MAAc,EAAI;IAC1E,IAAMC,GAAG,GAAGG,MAAM,CAACX,OAAO,CAACY,KAAK,CAACd,WAAG,CAAC,CAACe,YAAY,EAAE,CAACJ,QAAQ,EAAE,CAAC;IAChE,OAAON,MAAM,CAACK,GAAG,EAAEF,MAAM,EAAEC,MAAM,CAAC;EACtC,CAAC;EAED,OAAOF,aAAa;AACxB,CAAC;AAjBYP,eAAO","names":["exports","bignumber_js_1","decimal","property","layout","encode","decode","decimalLayout","buffer","offset","src","toString","div","BigInt","times","integerValue"],"sources":["/Users/ivan/Metadata/node_modules/@solana/buffer-layout-utils/src/decimal.ts"],"sourcesContent":["import { Layout } from '@solana/buffer-layout';\nimport BigNumber from 'bignumber.js';\nimport { encodeDecode } from './base';\nimport { u128 } from './bigint';\n\nexport const WAD = new BigNumber('1e+18');\n\nexport const decimal = (property?: string): Layout<BigNumber> => {\n    const layout = u128(property);\n    const { encode, decode } = encodeDecode(layout);\n\n    const decimalLayout = layout as Layout<unknown> as Layout<BigNumber>;\n\n    decimalLayout.decode = (buffer: Buffer, offset: number) => {\n        const src = decode(buffer, offset).toString();\n        return new BigNumber(src).div(WAD);\n    };\n\n    decimalLayout.encode = (decimal: BigNumber, buffer: Buffer, offset: number) => {\n        const src = BigInt(decimal.times(WAD).integerValue().toString());\n        return encode(src, buffer, offset);\n    };\n\n    return decimalLayout;\n};\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}